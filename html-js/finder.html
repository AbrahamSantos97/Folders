<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
    <input id="filtro" type="text" placeholder="Write" />
    <span id="coincidencias"></span>
    <button onclick="nx()" id="nx">Adelante</button>
    <button id="bc" disabled="true">Atras</button>
    <button onclick="search(1)"> Buscar </button>
    <button onclick="clean()"> Limpiar </button>
    <div>
        <h1 class="text-container">Integer</h1>
        <p class="text-container">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
             Suspendisse nec dictum dolor. Phasellus at sagittis nunc. Vivamus justo sem, 
             pulvinar a urna at, interdum pellentesque tortor. Aliquam erat volutpat. Proin massa nisi, 
             vulputate ac gravida scelerisque, luctus sit amet risus. 
            Integer suscipit nibh scelerisque metus feugiat tristique. Morbi egestas odio non blandit pretium.
        </p>

        <p class="text-container">
            Pellentesque auctor sodales dolor et pharetra. Praesent luctus et 
            elit ac varius. Praesent nec nisi dolor. Etiam ante est, fringilla quis tortor id, 
            varius elementum nulla. Nam eu quam condimentum mauris sodales egestas vitae et massa. 
            Praesent nec varius est, non semper sapien. Integer mattis bibendum ligula, nec pellentesque nisl elementum ac. 
            Integer eu vestibulum justo. Etiam sed lectus ex.
        </p>
        <p class="text-container">
            Nam sed interdum ligula, eu convallis sapien. Nunc rhoncus facilisis mauris rutrum pulvinar. 
            Pellentesque imperdiet porta odio non efficitur. Suspendisse potenti. Phasellus semper dui ut nibh 
            vehicula molestie. Nullam aliquam, lacus at auctor posuere, est dolor convallis leo, sed fermentum est 
            tortor quis metus. Vestibulum lacus nulla, facilisis sed nisl ac, iaculis tincidunt augue. Sed eu ante tortor. 
            Ut vestibulum nibh risus, vel pellentesque nibh posuere sit amet. Integer posuere pharetra orci a laoreet. 
            Phasellus eu vehicula neque. Donec scelerisque blandit augue, ac aliquet risus tristique quis. Aenean eget augue
             aliquam, vehicula neque id, finibus sapien. Proin ante libero, mattis sit amet porta ac, maximus sed ligula. 
             Quisque dignissim lorem a neque iaculis, non fringilla erat molestie
        </p>
        <p class="text-container">Integer</p>

    </div>
</body>
<script>
    let pointer = 0;
    let totalcount = 0;
    function search(opt){
        clean(opt);
        let text = $("#filtro").val();
        let replace = text+"";
        const regex2 = new RegExp(replace,"gi");
        $(".text-container").each(function(index) {
            totalcount += $(this).text().match(regex2).length;
            $(this).html($(this).html().replace(regex2,"<span class='agree' style='background-color:red'>"+text+"</span>"));
        });
    }

    function nx(){
        if(totalcount <= pointer)return;
        $("#bc").attr("disable","false");
        $(".agree").each(function(index) {
            if(index === pointer)$(this).css('background-color','blue');
            else $(this).css('background-color','red');
        });
        pointer++;
    }

    function bc(){

    }

    function clean(opt){
        $(".agree").each(function(index) { $(this).css('background-color','transparent')});
        if(opt != 1)$("#filtro").val("");
        pointer = 0;
    }
</script>
</html>